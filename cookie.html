<!DOCTYPE html>
<html lang="en">

<!-- cookie example -->
<button id="cookie_simple" onclick="simple_request()"> Simple Cookie </button>
<button id="cookie_delete" onclick="delete_cookie()"> Delete Cookie </button>
<button id="cookie_httponly" onclick="with_httponly()"> HttpOnly Cookie </button>
<button id="cookie_secure" onclick="with_secure()"> Secure Cookie </button>

<style>
    button {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 15px 32px;
        margin: 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
    }
</style>

<script>

    async function get(target) {
        // synchronous request
        await fetch(target, {
                method: 'GET',
                credentials: 'include',
            }
        ).then(response => {
            if (response.ok) {
                return response
            }
            throw new Error('Network response was not ok.');
        }).catch(err => console.log(err));


        let cookie = document.cookie;
        console.log("Cookies: \n" + cookie)
    }

    function simple_request() {
        let url = "http://localhost:7777/cookie/simple"
        get(url)
    }

    function delete_cookie(){
        let url = "http://localhost:7777/cookie/delete"
        get(url)
    }

    function with_httponly(){
        let url = "http://localhost:7777/cookie/httponly"
        get(url)
    }

    function with_secure(){
        let url = "http://localhost:7777/cookie/secure"
        get(url)
    }

</script>

</html>

